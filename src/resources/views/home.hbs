<div class="mt-4 container">
	<div class="row">
		{{#each Course}}
			<div class="col-sm-6 col-lg-3">
				<div class="card" style="margin-top: 1rem;">
					<img src="{{this.image}}" class="card-img-top" alt="photo" />
					<div class="card-body">
						<h5 class="card-title">{{this.name}}</h5>
						<p class="card-text">{{this.description}}</p>
						<a href="/courses/{{this.slug}}" class="btn btn-primary">Detail</a>
						<a href="/courses/{{this._id}}/edit" class="btn btn-outline-danger">Edit</a>
						<a href="#" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-id="{{this._id}}">Delete</a>
					</div>
				</div>
			</div>
		{{/each}}
	</div>
</div>

<!-- Modal popup delete -->
<div class="modal fade mt-5" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Xóa</h5>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>
		<div class="modal-body">
			Bạn có chắc muốn xóa card này?
		</div>
		<div class="modal-footer">
			<form method="POST" id="delete-accept">
				<button type="submit" class="btn btn-danger">Xóa bỏ</button>
			</form>
			<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Hủy</button>
		</div>
		</div>
	</div>
</div>

<script>

	var exampleModal = document.getElementById('exampleModal')
	exampleModal.addEventListener('show.bs.modal', function (event) {
		// Button that triggered the modal
		var button = event.relatedTarget
		// Extract info from data-bs-* attributes
		var id = button.getAttribute('data-bs-id');
		document.getElementById("delete-accept").setAttribute('action', `/courses/${id}/delete?_method=DELETE`);
	})

</script>